<!DOCTYPE html>
<html>

<head>
  <script data-require="jquery@2.2.4" data-semver="2.2.4" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery.min.js"></script>
  <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" type="text/css" />
  <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <style>
    .container {
      text-align: center;
      font-size: 20px;
      font-family: cursive;
    }
    
    span {
      font-size: 30;
      font-weight: bold;
      text-decoration: underline;
    }
    
    .content {
      text-align: center;
    }
    
    div, .soMed {
      text-align: right;
    }
  </style>
  <script type="text/javascript">
    var switchTo5x = true;
  </script>
  <script type="text/javascript" src="https://ws.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">
    stLight.options({
      publisher: "e411443c-1f8b-4af6-a1d1-edcf6d7d0f1d",
      doNotHash: false,
      doNotCopy: false,
      hashAddressBar: false
    });
  </script>
</head>

<body>
  <div class="container well">
    <div class="socMed">
      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_googleplus_large' displayText='Google +'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
      <span class='st_pinterest_large' displayText='Pinterest'></span>
      <span class='st_email_large' displayText='Email'></span>
    </div>
    <span>Ingredients of Doom</span>
    <hr>
  </div>
  <hr>
  <div class="content">
    <input type="text" placeholder="Choose your poison" id="poison">
    <br />
    <button id="add" onclick="getValue()">Press Me</button>


    <hr>
    <button class="ing" value="Monosodium Glutamate (MSG)">Monosodium Glutamate (MSG)</button>
    <button class="ing" value="Aspartame">Aspartame</button>
    <button class="ing" value="High Fructose Corn Syrup (HFCS)">High Fructose Corn Syrup (HFCS)</button>
    <button class="ing" value="Agave Nectar">Agave Nectar</button>
    <button class="ing" value="Artificial Food Coloring">Artificial Food Coloring</button>
    <button class="ing" value="BHA and BHT">BHA and BHT</button>
    <button class="ing" value="Sodium Nitrite and Sodium Nitrate">Sodium Nitrite and Sodium Nitrate</button>
    <button class="ing" value="Potassium Bromate">Potassium Bromate</button>
    <button class="ing" value="Recombinant Bovine Growth Hormone (rBGH)">Recombinant Bovine Growth Hormone (rBGH)</button>
    <button class="ing" value="Refined Vegetable Oil">Refined Vegetable Oil</button>
  </div>

  <script>
    var fridge = [];

    $('.ing').click(function() {
      var val = $(this).attr("value")
      fridge.push(val)
      console.log("Ingredients Added to Fridge", fridge)
      view()

    });

    var getValue = function() {
      $('input').each(function() {
        var theValue = $(this).val()
        fridge.push(theValue)
          //console.log(fridge);
        view()
      });

      $('#poison').focus(function() {
        $(this).val('');
      });
    }

    var removeIng = function() {
      var text = $(this).text();
      text = text.substring(0, text.length - 2);
      console.log("text is:" + text);
      fridge.splice(fridge.indexOf(text), 1)
      $(this).closest("button").remove();

      console.log("Current Items in Fridge", fridge)

    }

    var addClickHandlerToRemovableIngredient = function(element) {

      element.on('click', removeIng);
    }

    var view = function() {
      var death = $("<button>").text(fridge[fridge.length - 1] + " x").addClass("addedIng");
      addClickHandlerToRemovableIngredient(death);
      $(".container").append(death)
    }
  </script>
</body>
</html>